<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Intern Operations System</title>
    <link rel="stylesheet" href="css/layout.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <div id="app">
      <header class="app-header">
        <div class="header-top">
          <h1><i class="fas fa-laptop-code"></i> Intern Operations System</h1>
          <div class="user-info">
            <span class="role-badge role-hr" id="current-role-badge">HR</span>
            <button class="secondary-btn small-btn logout-btn" id="logout-btn">
              <i class="fas fa-sign-out-alt"></i> Logout
            </button>
          </div>
        </div>
        <nav class="main-nav">
          <button class="nav-btn" data-view="dashboard">
            <i class="fas fa-home"></i> Dashboard
          </button>
          <button class="nav-btn" data-view="interns">
            <i class="fas fa-users"></i> Interns
          </button>
          <button class="nav-btn" data-view="tasks">
            <i class="fas fa-tasks"></i> Tasks
          </button>
          <button class="nav-btn" data-view="assignments">
            <i class="fas fa-handshake"></i> Assignments
          </button>
          <button class="nav-btn" data-view="logs">
            <i class="fas fa-history"></i> Logs
          </button>
        </nav>
      </header>

      <div class="content-wrapper">
        <aside class="sidebar">
          <div class="stats-card">
            <h3><i class="fas fa-chart-bar"></i> System Stats</h3>
            <div id="stats-content"></div>
          </div>
          <div class="status-card">
            <h3><i class="fas fa-info-circle"></i> System Status</h3>
            <div id="status-content"></div>
          </div>
        </aside>

        <main class="main-content">
          <div id="loading" class="loading-overlay" style="display: none">
            <div class="spinner"></div>
            <p>Processing...</p>
          </div>

          <div
            id="error-container"
            class="error-container"
            style="display: none"
          ></div>

          <div id="view-container">
            <!-- Views will be rendered here -->
          </div>
        </main>
      </div>

      <footer class="app-footer">
        <p>
          Frontend-Only Intern Operations System | Simulation Mode Active | No
          Backend Required
        </p>
      </footer>
    </div>

    <!-- Templates -->
    <template id="dashboard-template">
      <div class="dashboard-view">
        <h2><i class="fas fa-tachometer-alt"></i> Dashboard</h2>

        <div class="stats-grid">
          <div class="stat-card">
            <h3><i class="fas fa-users"></i> Total Interns</h3>
            <p class="stat-number" id="total-interns">0</p>
          </div>
          <div class="stat-card">
            <h3><i class="fas fa-tasks"></i> Total Tasks</h3>
            <p class="stat-number" id="total-tasks">0</p>
          </div>
          <div class="stat-card">
            <h3><i class="fas fa-user-check"></i> Active Interns</h3>
            <p class="stat-number" id="active-interns">0</p>
          </div>
          <div class="stat-card">
            <h3><i class="fas fa-check-circle"></i> Completed Tasks</h3>
            <p class="stat-number" id="completed-tasks">0</p>
          </div>
        </div>

        <div class="quick-actions">
          <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
          <div class="action-buttons">
            <button class="action-btn" id="quick-add-intern">
              <i class="fas fa-user-plus"></i> Add New Intern
            </button>
            <button class="action-btn" id="quick-create-task">
              <i class="fas fa-plus-circle"></i> Create New Task
            </button>
            <button class="action-btn" id="quick-view-active">
              <i class="fas fa-eye"></i> View Active Assignments
            </button>
          </div>
        </div>

        <div class="recent-activity">
          <h3><i class="fas fa-history"></i> Recent Activity</h3>
          <div id="recent-logs"></div>
        </div>
      </div>
    </template>

    <template id="interns-template">
      <div class="interns-view">
        <div class="view-header">
          <h2><i class="fas fa-users"></i> Intern Management</h2>
          <button class="primary-btn" id="add-intern-btn">
            <i class="fas fa-user-plus"></i> Add New Intern
          </button>
        </div>

        <div class="filters-section">
          <div class="filter-group">
            <label><i class="fas fa-filter"></i> Filter by Status:</label>
            <select id="status-filter">
              <option value="all">All Status</option>
              <option value="ONBOARDING">Onboarding</option>
              <option value="ACTIVE">Active</option>
              <option value="EXITED">Exited</option>
            </select>
          </div>
          <div class="filter-group">
            <label><i class="fas fa-cogs"></i> Filter by Skills:</label>
            <select id="skills-filter" multiple>
              <option value="JavaScript">JavaScript</option>
              <option value="React">React</option>
              <option value="HTML">HTML</option>
              <option value="CSS">CSS</option>
              <option value="Node.js">Node.js</option>
              <option value="Git">Git</option>
            </select>
          </div>
          <button class="secondary-btn" id="clear-filters">
            <i class="fas fa-times"></i> Clear Filters
          </button>
        </div>

        <div class="interns-table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Skills</th>
                <th>Status</th>
                <th>Tasks</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="interns-table-body"></tbody>
          </table>
        </div>

        <!-- Add Intern Modal -->
        <div id="add-intern-modal" class="modal" style="display: none">
          <div class="modal-content">
            <div class="modal-header">
              <h3><i class="fas fa-user-plus"></i> Add New Intern</h3>
              <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
              <form id="intern-form">
                <div class="form-group">
                  <label for="intern-name">Full Name *</label>
                  <input type="text" id="intern-name" required />
                  <div class="error-message" id="name-error"></div>
                </div>
                <div class="form-group">
                  <label for="intern-email">Email Address *</label>
                  <input type="email" id="intern-email" required />
                  <div class="error-message" id="email-error"></div>
                </div>
                <div class="form-group">
                  <label>Skills *</label>
                  <div class="skills-checkbox">
                    <label
                      ><input type="checkbox" name="skill" value="JavaScript" />
                      JavaScript</label
                    >
                    <label
                      ><input type="checkbox" name="skill" value="React" />
                      React</label
                    >
                    <label
                      ><input type="checkbox" name="skill" value="HTML" />
                      HTML</label
                    >
                    <label
                      ><input type="checkbox" name="skill" value="CSS" />
                      CSS</label
                    >
                    <label
                      ><input type="checkbox" name="skill" value="Node.js" />
                      Node.js</label
                    >
                    <label
                      ><input type="checkbox" name="skill" value="Git" />
                      Git</label
                    >
                  </div>
                  <div class="error-message" id="skills-error"></div>
                </div>
                <div class="form-group">
                  <label for="intern-status">Initial Status</label>
                  <select id="intern-status">
                    <option value="ONBOARDING">Onboarding</option>
                    <option value="ACTIVE">Active</option>
                  </select>
                </div>
                <div class="form-actions">
                  <button type="button" class="secondary-btn close-modal">
                    Cancel
                  </button>
                  <button type="submit" class="primary-btn">
                    <i class="fas fa-save"></i> Create Intern
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </template>

    <template id="tasks-template">
      <div class="tasks-view">
        <div class="view-header">
          <h2><i class="fas fa-tasks"></i> Task Management</h2>
          <button class="primary-btn" id="add-task-btn">
            <i class="fas fa-plus-circle"></i> Create New Task
          </button>
        </div>

        <div class="tasks-grid">
          <div class="tasks-list">
            <h3><i class="fas fa-list"></i> All Tasks</h3>
            <div id="tasks-container"></div>
          </div>
          <div class="task-details">
            <h3><i class="fas fa-info-circle"></i> Task Details</h3>
            <div id="task-details-content">
              <p class="placeholder-text">Select a task to view details</p>
            </div>
          </div>
        </div>

        <!-- Add Task Modal -->
        <div id="add-task-modal" class="modal" style="display: none">
          <div class="modal-content">
            <div class="modal-header">
              <h3><i class="fas fa-plus-circle"></i> Create New Task</h3>
              <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
              <form id="task-form">
                <div class="form-group">
                  <label for="task-title">Title *</label>
                  <input type="text" id="task-title" required />
                  <div class="error-message" id="title-error"></div>
                </div>
                <div class="form-group">
                  <label for="task-description">Description *</label>
                  <textarea id="task-description" rows="3" required></textarea>
                  <div class="error-message" id="description-error"></div>
                </div>
                <div class="form-group">
                  <label for="task-hours">Estimated Hours *</label>
                  <input
                    type="number"
                    id="task-hours"
                    min="1"
                    max="100"
                    required
                  />
                  <div class="error-message" id="hours-error"></div>
                </div>
                <div class="form-group">
                  <label>Required Skills *</label>
                  <div class="skills-checkbox">
                    <label
                      ><input
                        type="checkbox"
                        name="task-skill"
                        value="JavaScript"
                      />
                      JavaScript</label
                    >
                    <label
                      ><input type="checkbox" name="task-skill" value="React" />
                      React</label
                    >
                    <label
                      ><input type="checkbox" name="task-skill" value="HTML" />
                      HTML</label
                    >
                    <label
                      ><input type="checkbox" name="task-skill" value="CSS" />
                      CSS</label
                    >
                    <label
                      ><input
                        type="checkbox"
                        name="task-skill"
                        value="Node.js"
                      />
                      Node.js</label
                    >
                    <label
                      ><input type="checkbox" name="task-skill" value="Git" />
                      Git</label
                    >
                  </div>
                  <div class="error-message" id="task-skills-error"></div>
                </div>
                <div class="form-group">
                  <label for="task-dependencies">Dependencies</label>
                  <select id="task-dependencies" multiple>
                    <!-- Will be populated with existing tasks -->
                  </select>
                  <small>Hold Ctrl to select multiple</small>
                </div>
                <div class="form-actions">
                  <button type="button" class="secondary-btn close-modal">
                    Cancel
                  </button>
                  <button type="submit" class="primary-btn">
                    <i class="fas fa-save"></i> Create Task
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </template>

    <template id="assignments-template">
      <div class="assignments-view">
        <div class="view-header">
          <h2><i class="fas fa-handshake"></i> Task Assignments</h2>
        </div>

        <div class="assignment-controls">
          <div class="control-group">
            <label><i class="fas fa-tasks"></i> Select Task:</label>
            <select id="assignment-task-select">
              <option value="">Select a task...</option>
            </select>
          </div>
          <div class="control-group">
            <label><i class="fas fa-user"></i> Select Intern:</label>
            <select id="assignment-intern-select">
              <option value="">Select an intern...</option>
            </select>
          </div>
          <button class="primary-btn" id="assign-btn">
            <i class="fas fa-link"></i> Assign Task
          </button>
        </div>

        <div class="assignments-list">
          <h3><i class="fas fa-list-check"></i> Current Assignments</h3>
          <div id="assignments-container"></div>
        </div>

        <div class="eligibility-info">
          <h3><i class="fas fa-info-circle"></i> Assignment Rules</h3>
          <ul>
            <li>
              <i class="fas fa-check-circle"></i> Only ACTIVE interns can be
              assigned tasks
            </li>
            <li>
              <i class="fas fa-check-circle"></i> Intern must have required
              skills for the task
            </li>
            <li>
              <i class="fas fa-check-circle"></i> Tasks cannot be assigned to
              multiple interns
            </li>
            <li>
              <i class="fas fa-check-circle"></i> Dependencies must be resolved
              before marking as DONE
            </li>
          </ul>
        </div>
      </div>
    </template>

    <template id="logs-template">
      <div class="logs-view">
        <h2><i class="fas fa-history"></i> System Logs</h2>

        <div class="logs-controls">
          <button class="secondary-btn" id="clear-logs">
            <i class="fas fa-trash"></i> Clear Logs
          </button>
          <button class="secondary-btn" id="export-logs">
            <i class="fas fa-download"></i> Export Logs
          </button>
        </div>

        <div class="logs-table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Timestamp</th>
                <th>Action</th>
                <th>Details</th>
                <th>User</th>
              </tr>
            </thead>
            <tbody id="logs-table-body"></tbody>
          </table>
        </div>
      </div>
    </template>

    <!-- Login Modal -->
    <div id="login-modal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-sign-in-alt"></i> Login to Intern Operations</h3>
        </div>
        <div class="modal-body">
          <div class="login-toggle">
            <button class="login-toggle-btn active" data-target="hr-login-panel">
              <i class="fas fa-user-tie"></i> HR Login
            </button>
            <button class="login-toggle-btn" data-target="intern-login-panel">
              <i class="fas fa-user-graduate"></i> Intern Login
            </button>
          </div>

          <div class="login-panels">
            <div class="login-panel active" id="hr-login-panel">
              <div class="login-panel-header">
                <div>
                  <p class="eyebrow">Full platform access</p>
                  <h4><i class="fas fa-user-tie"></i> Sign in as HR</h4>
                </div>
                <span class="role-chip role-chip-hr">Admin</span>
              </div>
              <p class="muted-text">Manage interns, tasks, and assignments.</p>
              <div class="form-group">
                <label for="hr-id">HR ID</label>
                <input
                  type="text"
                  id="hr-id"
                  placeholder="Enter HR ID (e.g. hr123)"
                />
              </div>
              <div class="form-group">
                <label for="hr-password">Password</label>
                <input
                  type="password"
                  id="hr-password"
                  placeholder="Enter HR password"
                />
              </div>
              <button class="primary-btn full-width" id="hr-login-btn">
                <i class="fas fa-sign-in-alt"></i> Login as HR
              </button>
            </div>

            <div class="login-panel" id="intern-login-panel">
              <div class="login-panel-header">
                <div>
                  <p class="eyebrow">Task-focused access</p>
                  <h4><i class="fas fa-user-graduate"></i> Sign in as Intern</h4>
                </div>
                <span class="role-chip role-chip-intern">Member</span>
              </div>
              <p class="muted-text">
                View and update only the tasks assigned to you.
              </p>
              <div class="form-group">
                <label for="intern-id">Intern ID</label>
                <input
                  type="text"
                  id="intern-id"
                  placeholder="Enter your Intern ID (e.g. 2026-0001)"
                />
              </div>
              <div class="form-group">
                <label for="intern-password">Password</label>
                <input
                  type="password"
                  id="intern-password"
                  placeholder="Choose or enter your password"
                />
              </div>
              <button class="secondary-btn full-width" id="intern-login-btn">
                <i class="fas fa-sign-in-alt"></i> Login as Intern
              </button>
            </div>
          </div>

          <div class="login-info">
            <p><strong>Demo Credentials:</strong></p>
            <p>• HR ID: <code>hr123</code>, Password: <code>hr@1234</code></p>
            <p>
              • Intern: use your Intern ID (e.g. <code>2026-0001</code>) and a
              password you choose on first login
            </p>
          </div>
        </div>
      </div>
    </div>

    <script src="js/state.js"></script>
    <script src="js/fake-server.js"></script>
    <script src="js/rules-engine.js"></script>
    <script src="js/validators.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
